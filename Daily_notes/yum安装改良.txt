<<<<<<< HEAD
1.清除原有的YUM及相关软件包。
rpm -qa | grep yum | xargs rpm -e --nodeps
rpm -qa | grep python-urlgrabber|xargs rpm -e --nodeps

2.查询并清除原有的urlgrabber。

rpm -qa | grep python-urlgrabber                       //查询Python版本
rpm -e python-urlgrabber-3.10-x.el7.noarch--nodeps    //清除Python版本

rpm -qa |grep yum                                     //查看系统安装的YUM软件包
执行完这一条命令没有任何信息提示，就表示已经完全卸载了。

3.下载centos7的相关软件包。
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-3.4.3-154.el7.centos.noarch.rpm 
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-metadata-parser-1.1.4-10.el7.x86_64.rpm 
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-utils-1.1.31-42.el7.noarch.rpm  
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-42.el7.noarch.rpm 

//下面两行不一定用
 wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-updateonboot-1.1.31-42.el7.noarch.rpm  
 wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-42.el7.noarch.rpm 

wget http://mirrors.163.com/centos/7/os/x86_64/Packages/python-iniparse-0.4-9.el7.noarch.rpm
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/python-urlgrabber-3.10-8.el7.noarch.rpm  

4.ls/ll查看结果

5.rpm -e python-urlgrabber-3.10-x.el7.noarch--nodeps  //清除Python版本
  rpm -ivh  python-urlgrabber-3.10-8.el7.noarch.rpm   //安装Python版本
  rpm -ivh *.rpm  安装全部/ rpm -ivh yum*  安装yum
  
/*
① ( 
    # rpm -ivh  yum-3.2.29-73.el7.centos.noarch.rpm yum-plugin-fastestmirror-1.1.30-37.el7.noarch.rpm
    warning: yum-3.2.29-73.el7.centos.noarch.rpm: Header V3 RSA/SHA1 Signature, key ID c105b9de: NOKEY
    error: Failed dependencies:
      python-urlgrabber >= 3.9.1-10 is needed by yum-3.2.29-73.el7.centos.noarch
   如果上面遇到问题：发现错误，python-urlgrabber版本必须大于等于3.9.1-10
   查看系统的python信息
   # rpm -qa|grep python
   发现python-urlgrabber-3.9.1-9.el7.noarch 版本低于3.9.1-10 
   卸载：python-urlgrabber-3.9.1-9.el7.noarch
   # rpm -e python-urlgrabber-3.9.1-9.el7.noarch
   安装: rpm -ivh python-urlgrabber-3.9.1-11.el7.noarch.rpm
   )
②（
    error: Failed dependencies:
       rpm >= 0:4.11.3-22 is needed by yum-3.4.3-154.el7.centos.noarch
    解决的方法就是在rpm 语句后面加上 --force --nodeps
   ）
③ （
   warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID***** 
   这是由于yum安装了旧版本的GPG keys造成的，解决办法就是 
   rpm --import /etc/pki/rpm-gpg/RPM* 
   linux/centos Header V3 DSA signature: NOKEY, key ID 错误解决方法 
   后面加上 --force --nodeps如 
   # rpm -ivh db4-devel-4.3.29-9.fc6.i386.rpm --force --nodeps 
*/

6.新建repo 配置文件
[root@linuxprobe ~]# vim /etc/yum.repos.d/CentOS-Base.repo
#CentOS-Base.repo
#
# The mirror system uses the connecting IP address of the client and the
# update status of each mirror to pick mirrors that are updated to and
# geographically close to the client.  You should use this for CentOS updates
# unless you are manually picking other mirrors.
#
# If the mirrorlist= does not work for you, as a fall back you can try the
# remarked out baseurl= line instead.
#
#
[base]
name=CentOS-$7 - Base - 163.com
#mirrorlist=http://mirrorlist.centos.org/?release=$7&arch=$basearch&repo=os
baseurl=http://mirrors.163.com/centos/7/os/$basearch/
gpgcheck=1
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7

#released updates
[updates]
name=CentOS-$7 - Updates - 163.com
#mirrorlist=http://mirrorlist.centos.org/?release=$7&arch=$basearch&repo=updates
baseurl=http://mirrors.163.com/centos/7/updates/$basearch/
gpgcheck=1
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7

#additional packages that may be useful
[extras]
name=CentOS-$7 - Extras - 163.com
#mirrorlist=http://mirrorlist.centos.org/?release=$7&arch=$basearch&repo=extras
baseurl=http://mirrors.163.com/centos/7/extras/$basearch/
gpgcheck=1
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7

#additional packages that extend functionality of existing packages
[centosplus]
name=CentOS-$7 - Plus - 163.com
baseurl=http://mirrors.163.com/centos/7/centosplus/$basearch/
gpgcheck=1
enabled=0
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7           #配置文件

7.至此YUM 网络源已经安装完成
yum clean all

8.测试安装是否正常
yum -y install lftp

参考：http://www.linuxprobe.com/redhat-7-use-centos-yum-network-sources.html     
=======
1.清除原有的YUM及相关软件包。
rpm -qa | grep yum | xargs rpm -e --nodeps
rpm -qa | grep python-urlgrabber|xargs rpm -e --nodeps

2.查询并清除原有的urlgrabber。

rpm -qa | grep python-urlgrabber                       //查询Python版本
rpm -e python-urlgrabber-3.10-x.el7.noarch--nodeps    //清除Python版本

rpm -qa |grep yum                                     //查看系统安装的YUM软件包
执行完这一条命令没有任何信息提示，就表示已经完全卸载了。

3.下载centos7的相关软件包。
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-3.4.3-154.el7.centos.noarch.rpm 
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-metadata-parser-1.1.4-10.el7.x86_64.rpm 
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-utils-1.1.31-42.el7.noarch.rpm  
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-42.el7.noarch.rpm 

//下面两行不一定用
 wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-updateonboot-1.1.31-42.el7.noarch.rpm  
 wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-42.el7.noarch.rpm 

wget http://mirrors.163.com/centos/7/os/x86_64/Packages/python-iniparse-0.4-9.el7.noarch.rpm
wget http://mirrors.163.com/centos/7/os/x86_64/Packages/python-urlgrabber-3.10-8.el7.noarch.rpm  

4.ls/ll查看结果

5.rpm -e python-urlgrabber-3.10-x.el7.noarch--nodeps  //清除Python版本
  rpm -ivh  python-urlgrabber-3.10-8.el7.noarch.rpm   //安装Python版本
  rpm -ivh *.rpm  安装全部/ rpm -ivh yum*  安装yum
  
/*
① ( 
    # rpm -ivh  yum-3.2.29-73.el7.centos.noarch.rpm yum-plugin-fastestmirror-1.1.30-37.el7.noarch.rpm
    warning: yum-3.2.29-73.el7.centos.noarch.rpm: Header V3 RSA/SHA1 Signature, key ID c105b9de: NOKEY
    error: Failed dependencies:
      python-urlgrabber >= 3.9.1-10 is needed by yum-3.2.29-73.el7.centos.noarch
   如果上面遇到问题：发现错误，python-urlgrabber版本必须大于等于3.9.1-10
   查看系统的python信息
   # rpm -qa|grep python
   发现python-urlgrabber-3.9.1-9.el7.noarch 版本低于3.9.1-10 
   卸载：python-urlgrabber-3.9.1-9.el7.noarch
   # rpm -e python-urlgrabber-3.9.1-9.el7.noarch
   安装: rpm -ivh python-urlgrabber-3.9.1-11.el7.noarch.rpm
   )
②（
    error: Failed dependencies:
       rpm >= 0:4.11.3-22 is needed by yum-3.4.3-154.el7.centos.noarch
    解决的方法就是在rpm 语句后面加上 --force --nodeps
   ）
③ （
   warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID***** 
   这是由于yum安装了旧版本的GPG keys造成的，解决办法就是 
   rpm --import /etc/pki/rpm-gpg/RPM* 
   linux/centos Header V3 DSA signature: NOKEY, key ID 错误解决方法 
   后面加上 --force --nodeps如 
   # rpm -ivh db4-devel-4.3.29-9.fc6.i386.rpm --force --nodeps 
*/

6.新建repo 配置文件
[root@linuxprobe ~]# vim /etc/yum.repos.d/CentOS-Base.repo
#CentOS-Base.repo
#
# The mirror system uses the connecting IP address of the client and the
# update status of each mirror to pick mirrors that are updated to and
# geographically close to the client.  You should use this for CentOS updates
# unless you are manually picking other mirrors.
#
# If the mirrorlist= does not work for you, as a fall back you can try the
# remarked out baseurl= line instead.
#
#
[base]
name=CentOS-$7 - Base - 163.com
#mirrorlist=http://mirrorlist.centos.org/?release=$7&arch=$basearch&repo=os
baseurl=http://mirrors.163.com/centos/7/os/$basearch/
gpgcheck=1
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7

#released updates
[updates]
name=CentOS-$7 - Updates - 163.com
#mirrorlist=http://mirrorlist.centos.org/?release=$7&arch=$basearch&repo=updates
baseurl=http://mirrors.163.com/centos/7/updates/$basearch/
gpgcheck=1
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7

#additional packages that may be useful
[extras]
name=CentOS-$7 - Extras - 163.com
#mirrorlist=http://mirrorlist.centos.org/?release=$7&arch=$basearch&repo=extras
baseurl=http://mirrors.163.com/centos/7/extras/$basearch/
gpgcheck=1
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7

#additional packages that extend functionality of existing packages
[centosplus]
name=CentOS-$7 - Plus - 163.com
baseurl=http://mirrors.163.com/centos/7/centosplus/$basearch/
gpgcheck=1
enabled=0
gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7           #配置文件

7.至此YUM 网络源已经安装完成
yum clean all

8.测试安装是否正常
yum -y install lftp

参考：http://www.linuxprobe.com/redhat-7-use-centos-yum-network-sources.html     
>>>>>>> temp
      http://blog.csdn.net/zhaosenoo/article/details/70919881